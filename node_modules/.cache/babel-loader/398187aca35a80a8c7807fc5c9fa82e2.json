{"ast":null,"code":"var _jsxFileName = \"/home/andre/Trybe/Projeto/sd-05-block16-project-react-redux-starwars-database-filters/src/components/Table.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { fetchPlanets } from '../actions';\nimport TableHeaders from './tableheaders';\nimport TableValues from './tableValues';\nimport swPlanetss from '../reducers/swPlanets';\n\nclass Table extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      renderP: []\n    };\n  }\n\n  componentDidMount() {\n    const getCurrentPlanets = this.props.getCurrentPlanets; // console.log('antes de chamar')\n\n    getCurrentPlanets();\n  }\n\n  filterTest() {\n    const _this$props = this.props,\n          swPlanetss = _this$props.swPlanetss,\n          filter = _this$props.filter;\n    let data = swPlanetss;\n    console.log(filter);\n\n    if (cColumn !== undefined) {\n      let tempC = cColumn;\n\n      if (cOperation === 'maior que') {\n        console.log('oi');\n        data = data.filter(plani => +plani[tempC] > +cNumber);\n      } else if (cOperation === 'menor que') {\n        data = data.filter(plani => +plani[tempC] < +cNumber);\n      } else if (cOperation === 'igual a') {\n        data = data.filter(plani => +plani[cColumn] === +cNumber);\n      }\n    }\n\n    console.log(data);\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          swPlanetss = _this$props2.swPlanetss,\n          isFetching = _this$props2.isFetching,\n          textFilter = _this$props2.textFilter;\n    const renderP = this.state.renderP;\n\n    if (isFetching) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Carregando...\");\n    }\n\n    let planet = swPlanetss;\n    if (renderP.length > 0) planet = renderP;\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(TableHeaders, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, planet.filter(planet => planet.name.toLowerCase().includes(textFilter.toLowerCase())).map(elements => React.createElement(TableValues, {\n      key: elements.diameter,\n      elements: elements,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  swPlanetss: state.swPlanetss.data,\n  isFetching: state.swPlanetss.isFetching,\n  textFilter: state.filters.filterByName.name,\n  filter: state.filters.filterByNumber\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getCurrentPlanets: () => dispatch(fetchPlanets())\n}); // Dúvida solucionada no site\n// https://stackoverflow.com/questions/38684925/react-eslint-error-missing-in-props-validation\n\n\nTable.propTypes = {\n  getCurrentPlanets: PropTypes.func.isRequired,\n  swPlanetss: PropTypes.array.isRequired,\n  isFetching: PropTypes.bool.isRequired,\n  textFilter: PropTypes.string.isRequired\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Table);","map":{"version":3,"sources":["/home/andre/Trybe/Projeto/sd-05-block16-project-react-redux-starwars-database-filters/src/components/Table.js"],"names":["React","PropTypes","connect","fetchPlanets","TableHeaders","TableValues","swPlanetss","Table","Component","constructor","props","state","renderP","componentDidMount","getCurrentPlanets","filterTest","filter","data","console","log","cColumn","undefined","tempC","cOperation","plani","cNumber","render","isFetching","textFilter","planet","length","name","toLowerCase","includes","map","elements","diameter","mapStateToProps","filters","filterByName","filterByNumber","mapDispatchToProps","dispatch","propTypes","func","isRequired","array","bool","string"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { fetchPlanets } from '../actions';\nimport TableHeaders from './tableheaders';\nimport TableValues from './tableValues'\nimport swPlanetss from '../reducers/swPlanets';\n\nclass Table extends React.Component {\n  constructor (props){\n    super(props);\n    this.state = {\n      renderP: [],\n    }\n    \n  }\n  componentDidMount() {\n    const { getCurrentPlanets } = this.props;\n    // console.log('antes de chamar')\n    getCurrentPlanets();\n  }\n  filterTest() {\n    const { swPlanetss, filter } = this.props;\n    let data = swPlanetss;\n    console.log(filter)\n    if(cColumn !== undefined){\n      let tempC = cColumn;\n      if(cOperation === 'maior que'){\n        console.log('oi')\n        data = data.filter((plani) => (+(plani[tempC]) > +(cNumber))\n        )}\n      else if (cOperation === 'menor que'){\n          data = data.filter ((plani) => (\n            +(plani[tempC]) < +(cNumber)\n          ))}\n      else if (cOperation === 'igual a'){\n            data = data.filter ((plani) => (\n              +(plani[cColumn]) === +(cNumber)\n            ))}\n    }\n    console.log(data)\n  }\n\n  render() {\n    const { swPlanetss, isFetching, textFilter } = this.props;\n    const { renderP } = this.state;\n    if (isFetching) { return <p>Carregando...</p>; }\n    let planet = swPlanetss\n    if (renderP.length > 0)\n      planet = renderP;\n    return (\n      <section>\n        <table>\n          <TableHeaders />\n          <tbody>\n          {planet\n          .filter((planet) => (planet.name.toLowerCase().includes(textFilter.toLowerCase())))\n          .map((elements) => (\n            <TableValues key={elements.diameter} elements={ elements } />\n          ))}\n          </tbody>\n        </table>\n      </section>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  swPlanetss: state.swPlanetss.data,\n  isFetching: state.swPlanetss.isFetching,\n  textFilter: state.filters.filterByName.name,\n  filter: state.filters.filterByNumber,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  getCurrentPlanets: () => dispatch(fetchPlanets()) });\n// Dúvida solucionada no site\n// https://stackoverflow.com/questions/38684925/react-eslint-error-missing-in-props-validation\nTable.propTypes = {\n  getCurrentPlanets: PropTypes.func.isRequired,\n  swPlanetss: PropTypes.array.isRequired,\n  isFetching: PropTypes.bool.isRequired,\n  textFilter: PropTypes.string.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Table);\n"]},"metadata":{},"sourceType":"module"}